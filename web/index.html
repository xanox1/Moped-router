<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moped Router</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    <!-- Tailwind-like CSS classes embedded -->
    <style>
        /* Tailwind-like utility classes */
        .relative { position: relative; }
        .absolute { position: absolute; }
        .fixed { position: fixed; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .top-0 { top: 0; }
        .bottom-0 { bottom: 0; }
        .left-0 { left: 0; }
        .right-0 { right: 0; }
        .bottom-24 { bottom: 6rem; }
        .right-4 { right: 1rem; }
        .top-5 { top: 1.25rem; }
        .right-5 { right: 1.25rem; }
        .w-full { width: 100%; }
        .h-full { height: 100%; }
        .w-4 { width: 1rem; }
        .h-4 { height: 1rem; }
        .w-6 { width: 1.5rem; }
        .h-6 { height: 1.5rem; }
        .w-7 { width: 1.75rem; }
        .h-7 { height: 1.75rem; }
        .w-8 { width: 2rem; }
        .h-8 { height: 2rem; }
        .w-12 { width: 3rem; }
        .h-12 { height: 3rem; }
        .w-14 { width: 3.5rem; }
        .h-14 { height: 3.5rem; }
        .w-24 { width: 6rem; }
        .h-24 { height: 6rem; }
        .w-2\.5 { width: 0.625rem; }
        .h-2\.5 { height: 0.625rem; }
        .w-px { width: 1px; }
        .max-w-md { max-width: 28rem; }
        .max-w-sm { max-width: 24rem; }
        .mx-auto { margin-left: auto; margin-right: auto; }
        .my-1\.5 { margin-top: 0.375rem; margin-bottom: 0.375rem; }
        .my-4 { margin-top: 1rem; margin-bottom: 1rem; }
        .my-6 { margin-top: 1.5rem; margin-bottom: 1.5rem; }
        .mt-3 { margin-top: 0.75rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .p-2 { padding: 0.5rem; }
        .p-3 { padding: 0.75rem; }
        .p-4 { padding: 1rem; }
        .p-5 { padding: 1.25rem; }
        .p-6 { padding: 1.5rem; }
        .px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .px-5 { padding-left: 1.25rem; padding-right: 1.25rem; }
        .py-1\.5 { padding-top: 0.375rem; padding-bottom: 0.375rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .bg-white { background-color: rgb(255 255 255); }
        .bg-blue-400 { background-color: rgb(96 165 250); }
        .bg-blue-500 { background-color: rgb(59 130 246); }
        .bg-blue-600 { background-color: rgb(37 99 235); }
        .bg-red-500 { background-color: rgb(239 68 68); }
        .bg-red-600 { background-color: rgb(220 38 38); }
        .bg-gray-100 { background-color: rgb(243 244 246); }
        .bg-gray-200 { background-color: rgb(229 231 235); }
        .bg-gray-300 { background-color: rgb(209 213 219); }
        .bg-gray-500 { background-color: rgb(107 114 128); }
        .bg-green-500 { background-color: rgb(34 197 94); }
        .bg-white\/90 { background-color: rgb(255 255 255 / 0.9); }
        .bg-black\/50 { background-color: rgb(0 0 0 / 0.5); }
        .text-white { color: rgb(255 255 255); }
        .text-gray-400 { color: rgb(156 163 175); }
        .text-gray-500 { color: rgb(107 114 128); }
        .text-gray-600 { color: rgb(75 85 99); }
        .text-gray-800 { color: rgb(31 41 55); }
        .text-gray-900 { color: rgb(17 24 39); }
        .text-blue-500 { color: rgb(59 130 246); }
        .text-blue-600 { color: rgb(37 99 235); }
        .text-orange-500 { color: rgb(249 115 22); }
        .border-2 { border-width: 2px; }
        .border-white { border-color: rgb(255 255 255); }
        .border-gray-200 { border-color: rgb(229 231 235); }
        .rounded-full { border-radius: 9999px; }
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-xl { border-radius: 0.75rem; }
        .rounded-2xl { border-radius: 1rem; }
        .rounded-t-2xl { border-top-left-radius: 1rem; border-top-right-radius: 1rem; }
        .rounded-l-2xl { border-top-left-radius: 1rem; border-bottom-left-radius: 1rem; }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); }
        .shadow-xl { box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1); }
        .shadow-2xl { box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25); }
        .flex { display: flex; }
        .items-center { align-items: center; }
        .items-start { align-items: flex-start; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .justify-around { justify-content: space-around; }
        .flex-col { flex-direction: column; }
        .flex-grow { flex-grow: 1; }
        .self-stretch { align-self: stretch; }
        .space-x-2 > :not([hidden]) ~ :not([hidden]) { margin-left: 0.5rem; }
        .space-y-1 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.25rem; }
        .space-y-3 > :not([hidden]) ~ :not([hidden]) { margin-top: 0.75rem; }
        .space-y-4 > :not([hidden]) ~ :not([hidden]) { margin-top: 1rem; }
        .text-xs { font-size: 0.75rem; line-height: 1rem; }
        .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
        .text-lg { font-size: 1.125rem; line-height: 1.75rem; }
        .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
        .text-2xl { font-size: 1.5rem; line-height: 2rem; }
        .font-medium { font-weight: 500; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .text-center { text-align: center; }
        .focus\:outline-none:focus { outline: 2px solid transparent; outline-offset: 2px; }
        .focus\:ring-2:focus { box-shadow: 0 0 0 2px currentColor; }
        .focus\:ring-blue-500:focus { box-shadow: 0 0 0 2px rgb(59 130 246); }
        .hover\:bg-gray-100:hover { background-color: rgb(243 244 246); }
        .hover\:bg-gray-200:hover { background-color: rgb(229 231 235); }
        .hover\:bg-gray-200\/70:hover { background-color: rgb(229 231 235 / 0.7); }
        .hover\:bg-blue-600:hover { background-color: rgb(37 99 235); }
        .hover\:bg-red-600:hover { background-color: rgb(220 38 38); }
        .hover\:text-gray-800:hover { color: rgb(31 41 55); }
        .hover\:scale-110:hover { transform: scale(1.1); }
        .transition { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .transition-colors { transition-property: color, background-color, border-color, text-decoration-color, fill, stroke; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .transition-transform { transition-property: transform; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .duration-300 { transition-duration: 300ms; }
        .ease-in-out { transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); }
        .transform { transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y)); }
        .translate-x-6 { transform: translateX(1.5rem); }
        .translate-x-10 { transform: translateX(2.5rem); }
        .translate-x-full { transform: translateX(100%); }
        .translate-y-full { transform: translateY(100%); }
        .-translate-y-full { transform: translateY(-100%); }
        .opacity-0 { opacity: 0; }
        .opacity-30 { opacity: 0.3; }
        .z-10 { z-index: 10; }
        .z-20 { z-index: 20; }
        .z-30 { z-index: 30; }
        .z-50 { z-index: 50; }
        .backdrop-blur-sm { backdrop-filter: blur(4px); }
        .pointer-events-none { pointer-events: none; }
        .cursor-pointer { cursor: pointer; }
    </style>
    <!-- Local CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="map-container" class="relative w-full h-full">
        <!-- Map Background -->
        <div id="map" class="absolute inset-0"></div>

        <!-- Simulated GPS Dot - Removed per UI requirements -->

        <!-- Top Search Bar -->
        <header id="search-header" class="absolute top-0 left-0 right-0 p-6 z-10 transition-transform duration-300">
            <div class="max-w-md mx-auto">
                 <div class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg p-2 text-gray-800 flex items-center space-x-2">
                    <div class="flex flex-col items-center px-2 self-stretch">
                         <div class="w-2.5 h-2.5 bg-gray-500 rounded-full mt-3"></div>
                         <div class="w-px flex-grow bg-gray-300 my-1.5"></div>
                         <div class="w-2.5 h-2.5 bg-blue-500 rounded-full mb-3"></div>
                    </div>
                    <div class="flex-grow space-y-1">
                        <input id="start" type="text" value="Current Location" class="w-full bg-transparent text-gray-600 py-1.5 focus:outline-none placeholder-gray-500">
                        <hr class="border-gray-200">
                        <input id="end" type="text" placeholder="Where to?" class="w-full bg-transparent text-gray-900 font-semibold py-1.5 focus:outline-none placeholder-gray-500">
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Navigation Header (hidden by default) -->
        <div id="navigation-header" class="absolute top-0 left-0 right-0 p-4 z-20 bg-blue-600 shadow-lg text-white transform -translate-y-full ui-card">
            <div class="max-w-md mx-auto text-center">
                <p class="text-lg font-semibold">In 200m, turn right</p>
                <p class="text-2xl font-bold">Main Street</p>
            </div>
        </div>

        <!-- Floating Action Buttons -->
        <div id="action-buttons" class="absolute bottom-24 right-4 z-10 flex flex-col items-center space-y-3">
            <!-- Report Button Container -->
            <div id="report-container" class="report-container flex flex-col items-center space-y-3">
                <div id="report-options" class="flex flex-col items-center space-y-3">
                    <button class="report-option bg-white/90 backdrop-blur-sm w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-200 transition" data-report-type="Map Error">
                        <!-- Icon for map error -->
                        <svg class="w-6 h-6 text-orange-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"></path></svg>
                    </button>
                    <button class="report-option bg-white/90 backdrop-blur-sm w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-200 transition" data-report-type="Police">
                        <!-- Icon for police -->
                         <svg class="w-7 h-7 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg>
                    </button>
                </div>
                <button id="report-main-button" class="bg-red-500 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center hover:bg-red-600 transition transform hover:scale-110">
                    <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg>
                </button>
            </div>
             <button id="layers-menu-button" class="bg-white/90 backdrop-blur-sm text-gray-800 w-12 h-12 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-200 transition">
                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path></svg>
            </button>
        </div>

        <!-- Route Information Card (Initially hidden) -->
        <div id="route-info" class="absolute bottom-0 left-0 right-0 p-4 z-20 ui-card hidden-card">
             <div class="max-w-md mx-auto bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-5 text-gray-800">
                <div class="flex justify-between items-center mb-3">
                    <div>
                        <h2 class="font-bold text-xl">Central Park</h2>
                        <p class="text-sm text-gray-500">Fastest moped route</p>
                    </div>
                    <button id="close-route-info" class="text-gray-400 hover:text-gray-800">
                         <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <div class="flex justify-around items-center text-center my-4">
                    <div><p class="font-bold text-2xl">15</p><p class="text-xs text-gray-500">MIN</p></div>
                    <div class="text-blue-500"><svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C8.13 2 5 5.13 5 9c0 4.17 4.42 9.92 6.24 12.11.4.48 1.13.48 1.53 0C14.58 18.92 19 13.17 19 9c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></svg></div>
                    <div><p class="font-bold text-2xl">5.2</p><p class="text-xs text-gray-500">KM</p></div>
                </div>
                <button id="start-nav-button" class="w-full bg-blue-500 text-white font-bold py-3 rounded-xl hover:bg-blue-600 transition">Start Navigation</button>
             </div>
        </div>

        <!-- Navigation Info Footer (hidden by default) -->
        <div id="navigation-footer" class="absolute bottom-0 left-0 right-0 p-4 z-20 ui-card hidden-card">
            <div class="max-w-md mx-auto bg-white/90 backdrop-blur-sm rounded-2xl shadow-2xl p-4 text-gray-800 flex justify-between items-center">
                 <div>
                    <p class="text-sm text-gray-500">ETA</p>
                    <p id="eta" class="font-bold text-lg">11:19 AM</p>
                </div>
                <div>
                    <p id="nav-time" class="font-bold text-lg">14 min</p>
                    <p id="nav-dist" class="text-sm text-gray-500">4.8 km</p>
                </div>
                <button id="end-nav-button" class="bg-red-500 text-white font-semibold py-3 px-5 rounded-lg hover:bg-red-600 transition">End</button>
            </div>
        </div>

        <!-- Bottom Navigation Bar -->
        <footer id="bottom-nav" class="absolute bottom-0 left-0 right-0 z-10 transition-transform duration-300">
            <div class="max-w-md mx-auto bg-white/90 backdrop-blur-sm rounded-t-2xl shadow-2xl px-4 py-2">
                <nav class="flex justify-around items-center text-gray-500">
                    <a href="#" id="home-button" class="text-center p-2 rounded-lg hover:bg-gray-200/70 transition-colors nav-item active">
                        <svg class="w-7 h-7 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h7.5"></path></svg>
                        <span class="text-xs font-medium">Home</span>
                    </a>
                    <a href="#" id="saved-menu-button" class="text-center p-2 rounded-lg hover:bg-gray-200/70 transition-colors nav-item">
                        <svg class="w-7 h-7 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.5 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"></path></svg>
                        <span class="text-xs font-medium">Saved</span>
                    </a>
                    <a href="#" id="recents-menu-button" class="text-center p-2 rounded-lg hover:bg-gray-200/70 transition-colors nav-item">
                        <svg class="w-7 h-7 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        <span class="text-xs font-medium">Recents</span>
                    </a>
                     <a href="#" id="profile-menu-button" class="text-center p-2 rounded-lg hover:bg-gray-200/70 transition-colors nav-item">
                        <svg class="w-7 h-7 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"></path></svg>
                        <span class="text-xs font-medium">Profile</span>
                    </a>
                    <a href="#" id="settings-menu-button" class="text-center p-2 rounded-lg hover:bg-gray-200/70 transition-colors nav-item">
                       <svg class="w-7 h-7 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.48.398.668 1.03.26 1.431l-1.296 2.247a1.125 1.125 0 01-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.075.124a6.57 6.57 0 01-.22.127c-.331.185-.581.496-.645.87l-.213 1.281c-.09.543-.56.94-1.11.94h-2.593c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.37-.49l-1.296-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.438-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.296-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.075.124a6.553 6.553 0 01.22-.127c.332-.185.582-.496.645-.87l.213-1.281z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        <span class="text-xs font-medium">Settings</span>
                    </a>
                </nav>
            </div>
        </footer>
    </div>

    <!-- MODALS AND MENUS -->
    <div id="generic-modal" class="absolute inset-0 z-30 flex items-center justify-center p-4 hidden-modal pointer-events-none">
        <div class="modal-overlay absolute inset-0 bg-black/50"></div>
        <div class="modal-content bg-white text-gray-800 rounded-2xl shadow-xl w-full max-w-md mx-auto p-6 relative transform transition-transform duration-300">
            <div class="flex justify-between items-center mb-4">
                <h2 id="modal-title" class="text-2xl font-bold">Modal Title</h2>
                <button id="modal-close-button" class="text-gray-400 hover:text-gray-800">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div id="modal-body">
                <!-- Modal content goes here -->
            </div>
        </div>
    </div>
    <div id="layers-menu" class="absolute inset-0 z-30 hidden-modal pointer-events-none">
        <div class="modal-overlay absolute inset-0 bg-black/50"></div>
        <div class="modal-content absolute top-0 right-0 h-full bg-white text-gray-800 rounded-l-2xl shadow-xl w-full max-w-sm p-6 transform translate-x-full transition-transform duration-300">
             <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Map Style</h2>
                <button id="layers-close-button" class="text-gray-400 hover:text-gray-800">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div class="space-y-4">
                <button class="map-style-button w-full text-left p-3 rounded-lg hover:bg-gray-100 transition" data-style="default">Default</button>
                <button class="map-style-button w-full text-left p-3 rounded-lg hover:bg-gray-100 transition" data-style="satellite">Satellite</button>
                <button class="map-style-button w-full text-left p-3 rounded-lg hover:bg-gray-100 transition" data-style="terrain">Terrain</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="absolute top-5 right-5 bg-green-500 text-white py-2 px-5 rounded-lg shadow-lg opacity-0 transform translate-x-10 z-50">
        Report submitted!
    </div>

    <!-- Legacy elements for functionality compatibility -->
    <div id="getRouteBtn" style="display: none;"></div>
    <div id="clearRouteBtn" style="display: none;"></div>
    <div id="testApiBtn" style="display: none;"></div>
    <div id="api-status-indicator" style="display: none;"></div>
    <div id="error-message" style="display: none;"></div>
    
    <!-- Hidden legacy elements for test compatibility -->
    <div id="menu-btn" class="menu-btn" style="display: none;">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
    </div>
    <div id="api-status" style="display: none;"></div>
    <div id="user-section" style="display: none;"></div>
    <div id="community-section" style="display: none;"></div>
    <div id="achievements-section" style="display: none;"></div>
    <div id="community-stats" style="display: none;"></div>
    <div class="input-with-button" style="display: none;">
        <button id="start-select-btn" class="map-select-btn">📍</button>
        <button id="end-select-btn" class="map-select-btn">🎯</button>
    </div>
    
    <!-- Context Menu -->
    <div id="context-menu" class="context-menu" style="display: none;">
        <div class="context-menu-item" data-action="directions-from">
            <span class="context-menu-icon">📍</span>
            Directions from here
        </div>
        <div class="context-menu-item" data-action="directions-to">
            <span class="context-menu-icon">🎯</span>
            Directions to here
        </div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" data-action="show-address">
            <span class="context-menu-icon">📍</span>
            Show address
        </div>
        <div class="context-menu-item" data-action="query-features">
            <span class="context-menu-icon">🔍</span>
            Query features
        </div>
    </div>
    
    <!-- Feature Information Modal -->
    <div id="feature-modal" class="feature-modal" style="display: none;">
        <div class="feature-modal-content">
            <div class="feature-modal-header">
                <h3>Feature Information</h3>
                <span class="feature-modal-close">&times;</span>
            </div>
            <div class="feature-modal-body" id="feature-modal-body">
                <!-- Feature information will be populated here -->
            </div>
        </div>
    </div>
    
    <!-- Settings Modal -->
    <div id="settings-modal" class="settings-modal" style="display: none;">
        <div class="settings-modal-content">
            <div class="settings-modal-header">
                <h3>⚙️ Settings</h3>
                <span class="settings-modal-close">&times;</span>
            </div>
            <div class="settings-modal-body">
                <h4>Show/Hide Sections</h4>
                <div class="settings-options">
                    <label class="setting-item">
                        <input type="checkbox" id="setting-api-status" checked>
                        <span class="checkmark"></span>
                        🌐 API Status
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="setting-user-section" checked>
                        <span class="checkmark"></span>
                        😊 User Account & Emoticons
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="setting-community-section" checked>
                        <span class="checkmark"></span>
                        🚨 Community Reporting
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="setting-achievements-section" checked>
                        <span class="checkmark"></span>
                        🏆 Achievements
                    </label>
                    <label class="setting-item">
                        <input type="checkbox" id="setting-community-stats" checked>
                        <span class="checkmark"></span>
                        📊 Community Stats
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    <!-- Local JavaScript -->
    <script src="script.js"></script>
</body>
</html>